{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AMIN\\\\Desktop\\\\ReactTutorial\\\\my-project\\\\src\\\\context\\\\CartContextProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  selectedItems: [],\n  itemsCounter: 0,\n  total: 0,\n  checkout: false\n};\n\nconst sumItems = items => {\n  const itemsCounter = items.reduce((total, product) => total + product.quantity, 0);\n  let total = items.reduce((total, product) => total + product.price * product.quantity, 0).toFixed(2);\n  return {\n    itemsCounter,\n    total\n  };\n};\n\nconst cartReducer = (state, action) => {\n  console.log(state);\n\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      if (!state.selectedItems.find(item => item.id === action.payload.id)) {\n        state.selectedItems.push({ ...action.payload,\n          quantity: 1\n        });\n      }\n\n      return { ...state,\n        selectedItems: [...state.selectedItems],\n        ...sumItems(state.selectedItems)\n      };\n\n    case \"REMOVE_ITEM\":\n      const newSelectedItems = state.selectedItems.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        selectedItems: [...newSelectedItems],\n        ...sumItems(state.selectedItems),\n        ...action.payload\n      };\n\n    case \"INCREASE\":\n      const indexI = state.selectedItems.findIndex(item => item.id === action.payload.id);\n      state.selectedItems[indexI].quantity++;\n      return { ...state,\n        ...sumItems(state.selectedItems)\n      };\n\n    case \"DECREASE\":\n      const indexD = state.selectedItems.findIndex(item => item.id === action.payload.id);\n      state.selectedItems[indexD].quantity--;\n      return { ...state,\n        ...sumItems(state.selectedItems)\n      };\n\n    case \"CHECKOUT\":\n      return {\n        selectedItems: [],\n        itemsCounter: 0,\n        total: 0,\n        checkout: true\n      };\n\n    case \"CLEAR\":\n      return {\n        selectedItems: [],\n        itemsCounter: 0,\n        total: 0,\n        checkout: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const CartContext = /*#__PURE__*/createContext();\n\nconst CartContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartContextProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = CartContextProvider;\nexport default CartContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","createContext","useReducer","initialState","selectedItems","itemsCounter","total","checkout","sumItems","items","reduce","product","quantity","price","toFixed","cartReducer","state","action","console","log","type","find","item","id","payload","push","newSelectedItems","filter","indexI","findIndex","indexD","CartContext","CartContextProvider","children","dispatch"],"sources":["C:/Users/AMIN/Desktop/ReactTutorial/my-project/src/context/CartContextProvider.js"],"sourcesContent":["import React, { createContext, useReducer } from \"react\";\r\n\r\nconst initialState = {\r\n  selectedItems: [],\r\n  itemsCounter: 0,\r\n  total: 0,\r\n  checkout: false,\r\n};\r\n\r\nconst sumItems = (items) => {\r\n  const itemsCounter = items.reduce(\r\n    (total, product) => total + product.quantity,\r\n    0\r\n  );\r\n  let total = items\r\n    .reduce((total, product) => total + product.price * product.quantity, 0)\r\n    .toFixed(2);\r\n  return { itemsCounter, total };\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  console.log(state);\r\n  switch (action.type) {\r\n    case \"ADD_ITEM\":\r\n      if (!state.selectedItems.find((item) => item.id === action.payload.id)) {\r\n        state.selectedItems.push({\r\n          ...action.payload,\r\n          quantity: 1,\r\n        });\r\n      }\r\n      return {\r\n        ...state,\r\n        selectedItems: [...state.selectedItems],\r\n        ...sumItems(state.selectedItems),\r\n      };\r\n    case \"REMOVE_ITEM\":\r\n      const newSelectedItems = state.selectedItems.filter(\r\n        (item) => item.id !== action.payload.id\r\n      );\r\n      return {\r\n        ...state,\r\n        selectedItems: [...newSelectedItems],\r\n        ...sumItems(state.selectedItems),\r\n        ...action.payload,\r\n      };\r\n    case \"INCREASE\":\r\n      const indexI = state.selectedItems.findIndex(\r\n        (item) => item.id === action.payload.id\r\n      );\r\n      state.selectedItems[indexI].quantity++;\r\n      return {\r\n        ...state,\r\n        ...sumItems(state.selectedItems),\r\n      };\r\n    case \"DECREASE\":\r\n      const indexD = state.selectedItems.findIndex(\r\n        (item) => item.id === action.payload.id\r\n      );\r\n      state.selectedItems[indexD].quantity--;\r\n      return {\r\n        ...state,\r\n        ...sumItems(state.selectedItems),\r\n      };\r\n    case \"CHECKOUT\":\r\n      return {\r\n        selectedItems: [],\r\n        itemsCounter: 0,\r\n        total: 0,\r\n        checkout: true,\r\n      };\r\n    case \"CLEAR\":\r\n      return {\r\n        selectedItems: [],\r\n        itemsCounter: 0,\r\n        total: 0,\r\n        checkout: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst CartContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(cartReducer, initialState);\r\n\r\n  return (\r\n    <CartContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartContextProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}